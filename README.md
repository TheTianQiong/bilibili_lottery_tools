# bilibili抽奖辅助程序

## 起因

我发现github上鲜有此类抽奖辅助程序，所以一时兴起，敲了敲代码，写了这个程序。

而目前提交的代码里是一个用于**获取转发点赞动态的用户id**的程序。

由于我编写的匆忙，可能一些内容会比较的粗糙，有些原理还是不太清楚，希望大家可以帮助我完善！

未来可能会用tkinter编写GUI的，应该……对吧

---

（2024/7/18-2024/7/19更新）

发现评论区里爬取评论有点困难，然后多方寻找，找到了[SocialSisterYi](https://github.com/SocialSisterYi)/[bilibili-API-collect](https://github.com/SocialSisterYi/bilibili-API-collect)的项目收集到的“野生”API，在此感谢！

提供了两个API，**懒加载的API需要Wbi鉴权**暂时不想把内容复杂化，所以没弄Wbi鉴权，如果有大佬可以帮助，可能会采取这种方法。于是我采用了另一种的翻页加载，与**转发点赞**的方法相呼应。先进行获取总数，然后得到总页数。

因为出现了两种方式，所以我将**转发点赞**和**评论**分为了两类。

---



*（不定时更新别的程序）*

## Todo

- [x] 开发获取**转发点赞动态的用户id**
- [x] 开发获取**评论用户id**
- [ ] 完善代码，增加提示错误的内容
- [x] 实现收录评论区折叠评论
- [ ] 开发GUI

## 使用方法

（2024/7/19修改）

### 1.点击运行

双击打开*(如果使用我编译好的程序，速度会快不少)*

### 2.选择模式

”1“为点赞转发；”2“为评论

### 3.提交id

id是指你想要获取的动态的id，一般在动态页的url中获取。通常是一长串数字。

*（v1.1添加了评论id，其中视频只支持通过BV号获取，通过一定方式来获取到真正的oid）*

复制到程序后，回车即可

### 4.提交cookie

**你会好奇，为什么需要提交cookie，因为非登录状态下，是爬取不到任何的内容的。**

在**登录状态**下，在**开发者工具（F12）**里**网络**中随便点个**请求**，找到**标头（header）**中的**请求标头**，**直接复制Cookie的值**于程序后，回车。

### 5.等待

看转发点赞数量，如果数量比较多，应该需要一会儿时间，数据量过大时，会每隔几次保存（点赞转发）；每次操作保存（评论）

### 5.打开xlsx文件

**默认保存为LikeAndForward.xlsx和Comments.xlsx文件**

## 注意事项

虽然说，我是新手，但是编写这个程序，也是耗了一些脑力的，所以，请尊重我的作品（**GPL-3开源协议**），不得商用！

然后因为本人选择的非理工科专业，python是我的一种兴趣，平时可能没什么时间来看github，所以请见谅！

## 附：

| 代码 | 评论区类型              | oid 的意义  |
| ---- | ----------------------- | ----------- |
| 1    | 视频稿件                | 稿件 avid   |
| 2    | 话题                    | 话题 id     |
| 4    | 活动                    | 活动 id     |
| 5    | 小视频                  | 小视频 id   |
| 6    | 小黑屋封禁信息          | 封禁公示 id |
| 7    | 公告信息                | 公告 id     |
| 8    | 直播活动                | 直播间 id   |
| 9    | 活动稿件                | (?)         |
| 10   | 直播公告                | (?)         |
| 11   | 相簿（图片动态）        | 相簿 id     |
| 12   | 专栏                    | 专栏 cvid   |
| 13   | 票务                    | (?)         |
| 14   | 音频                    | 音频 auid   |
| 15   | 风纪委员会              | 众裁项目 id |
| 16   | 点评                    | (?)         |
| 17   | 动态（纯文字动态&分享） | 动态 id     |
| 18   | 播单                    | (?)         |
| 19   | 音乐播单                | (?)         |
| 20   | 漫画                    | (?)         |
| 21   | 漫画                    | (?)         |
| 22   | 漫画                    | 漫画 mcid   |
| 33   | 课程                    | 课程 epid   |